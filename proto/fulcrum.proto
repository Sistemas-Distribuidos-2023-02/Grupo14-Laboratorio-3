syntax = "proto3";

service Fulcrum {
  rpc AgregarBase (RegistroSoldado) returns (Respuesta);
  rpc RenombrarBase (RenombrarBaseRequest) returns (Respuesta);
  rpc ActualizarValor (ActualizarValorRequest) returns (Respuesta);
  rpc BorrarBase (BorrarBaseRequest) returns (Respuesta);
  rpc VerificarConsistencia (ConsistenciaRequest) returns (Respuesta);
}

message RegistroSoldado {
  string sector = 1;
  string base = 2;
  int32 cantidad = 3;
  repeated int32 reloj_vector = 4;
}

message RenombrarBaseRequest {
  string sector = 1;
  string baseAntigua = 2;
  string baseNueva = 3;
  repeated int32 reloj_vector = 4;
}

message ActualizarValorRequest {
  string sector = 1;
  string base = 2;
  int32 nuevoValor = 3;
  repeated int32 reloj_vector = 4;
}

message BorrarBaseRequest {
  string sector = 1;
  string base = 2;
  repeated int32 reloj_vector = 3;
}

message Respuesta {
  bool exito = 1;
  string mensaje = 2;
  repeated int32 reloj_vector = 3;
}

message ConsistenciaRequest {
  string sector = 1;
  repeated int32 reloj_vector = 2;
}
